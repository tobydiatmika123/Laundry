<div style="display:flex; justify-content:space-between; align-items:center;">
  <h1>Daftar Order</h1>
  <%= link_to "Tambah Order Baru", new_order_path, style: "background:#2b6cb0;color:#fff;padding:8px 12px;border-radius:6px;text-decoration:none" %>
</div>

<table style="width:100%; border-collapse:collapse; margin-top:15px; font-family:Arial,sans-serif; font-size:14px;">
  <thead style="background-color:#f2f2f2; border-bottom:2px solid #ddd;">
    <tr>
      <th style="padding:10px; border:1px solid #ddd;">Customer</th>
      <th style="padding:10px; border:1px solid #ddd;">Shoe</th>
      <th style="padding:10px; border:1px solid #ddd;">Service</th>
      <th style="padding:10px; border:1px solid #ddd;">Status</th>
      <th style="padding:10px; border:1px solid #ddd;">Total Harga</th>
      <th style="padding:10px; border:1px solid #ddd;">Aksi</th>
    </tr>
  </thead>
  <tbody>
    <% if @orders.present? %>
      <% @orders.each do |order| %>
        <tr style="<%= 'background-color:#c6f6d5;' if order.status == 'Selesai' %>">
          <!-- Customer -->
          <td style="padding:8px; border:1px solid #ddd;"><%= order.customer&.name || "-" %></td>

          <!-- Shoe -->
          <td style="padding:8px; border:1px solid #ddd;">
            <% if order.shoe %>
              <%= "#{order.shoe.brand} (#{order.shoe.size}) - #{order.shoe.material}, #{order.shoe.condition}" %>
            <% else %>
              -
            <% end %>
          </td>

          <!-- Service -->
          <td style="padding:8px; border:1px solid #ddd;">
            <% if order.service %>
              <%= "#{order.service.name} - #{number_to_currency(order.service.price, unit:'Rp ', delimiter:'.', precision:0)}" %>
            <% else %>
              -
            <% end %>
          </td>

          <!-- Status -->
          <td style="padding:8px; border:1px solid #ddd;"><%= order.status || "Proses" %></td>

          <!-- Total Harga -->
          <td style="padding:8px; border:1px solid #ddd;">
            <%= number_to_currency(order.total_price || 0, unit:"Rp ", delimiter:".", precision:0) %>
          </td>

          <!-- Aksi -->
          <td style="padding:8px; border:1px solid #ddd;">
            <%= link_to "Detail", order_path(order), style:"color:#2b6cb0;text-decoration:none" %> |
            <%= link_to "Edit", edit_order_path(order), style:"color:#ed8936;text-decoration:none" %> |
            <%= link_to "Hapus", order_path(order), method: :delete, data: { confirm: "Yakin hapus?" }, style:"color:#e53e3e;text-decoration:none" %>
            <% if order.status != "Selesai" %>
              | <%= button_to "Selesai", finish_order_path(order), method: :patch, data: { confirm: "Tandai order ini selesai?" }, style: "background:#38a169;color:#fff;padding:5px 10px;border:none;border-radius:4px;cursor:pointer;" %>
            <% end %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <tr>
        <td colspan="6" style="text-align:center; padding:12px; border:1px solid #ddd; color:#888;">Belum ada order.</td>
      </tr>
    <% end %>
  </tbody>
</table>
