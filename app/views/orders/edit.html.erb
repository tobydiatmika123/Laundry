<h1>Edit Order</h1>

<div class="form-wrapper">
  <%= form_with(model: @order, local: true) do |form| %>
    <table>
      <tr>
        <th>Customer</th>
        <td>
          <%= form.collection_select :customer_id, Customer.all, :id, :name, { prompt: "Pilih Customer" }, class: "form-control" %>
        </td>
      </tr>

      <tr>
        <th>No HP</th>
        <td>
          <%= text_field_tag :customer_phone, @order.customer&.phone, class: "form-control", placeholder: "Masukkan No HP" %>
        </td>
      </tr>

      <tr>
        <th>Alamat Rumah</th>
        <td>
          <%= text_area_tag :customer_address, @order.customer&.address, class: "form-control", rows: 2, placeholder: "Masukkan alamat rumah" %>
        </td>
      </tr>

      <tr>
        <th>Service</th>
        <td>
          <%= form.collection_select :service_id, Service.all, :id, :name, { prompt: "Pilih Service" }, class: "form-control", onchange: "updatePrice()" %>
        </td>
      </tr>

      <tr>
        <th>Total Harga</th>
        <td>
          <span id="service-price"><%= number_to_currency(@order.service.price, unit: "Rp ") %></span>
        </td>
      </tr>
    </table>

    <div style="margin-top: 20px;">
      <%= form.submit "Simpan", class: "btn btn-success" %>
      <%= link_to "â†© Kembali", orders_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>
